# 🙏 感謝システム実装計画書

**作成日**: 2025年6月23日  
**プロジェクト**: 穿刺の相談所  
**目的**: 回答者のモチベーション向上とコミュニティ活性化

---

## 📋 **概要**

### 🎯 **目標**
- 回答者のやりがいとメリットを増大
- 質問者と回答者の双方向の価値交換促進
- プラットフォームの継続的な成長

### 🔍 **基本概念**

#### **「いいね」と「感謝」の差別化**
- **いいね**: 質問・回答内容への瞬時の評価（軽い）
- **感謝**: 実践後の結果に基づく評価（重い、価値が高い）

**感謝の定義**: アドバイスを実際に実行し、それが本当に役立った時に贈る特別な評価

---

## 🏆 **マイルストーンシステム**

### 📊 **感謝数に応じた称号・バッジ体系**

| 感謝数 | レベル | 称号 | バッジ/アイテム |
|--------|--------|------|-----------------|
| 1 | 🥉 ブロンズ | 初回貢献者 | 小さなブロンズバッジ |
| 10 | 🥉 ブロンズ | 頼れるアドバイザー | ブロンズ盾 |
| 100 | 🥈 シルバー | 信頼される専門家 | シルバー盾 |
| 500 | 🥈 シルバー | コミュニティの柱 | シルバー王冠 |
| 1,000 | 🥇 ゴールド | ゴールドエキスパート | ゴールド盾 |
| 5,000 | 🥇 ゴールド | マスタープロフェッショナル | ゴールド王冠 |
| 10,000 | 💎 プラチナ | レジェンドマスター | プラチナ盾 |
| 50,000 | 💎 プラチナ | 殿堂入り専門家 | ダイヤモンド王冠 |

### 🎊 **特別な瞬間**
- **初回感謝**: 専用の達成通知とガイダンス表示
- **マイルストーン達成**: お祝いメッセージとSNS投稿推奨
- **記念の記録**: 獲得日時の保存

---

## 🖥️ **UI/UX設計**

### 📱 **表示場所**

#### **プロフィール画面**
- **メインバッジ**: プロフィール写真横に最高称号を大きく表示
- **実績ギャラリー**: 獲得した全バッジ・盾・王冠の一覧
- **進捗バー**: 次のマイルストーンまでの進捗
- **統計情報**: 
  - 累計感謝数
  - 累計いいね数  
  - 回答数
  - 解決済み質問数

#### **質問詳細画面**
- **感謝ボタン**: 回答の下に配置
- **ボタン説明**: "実際に試して役立った場合にクリック"
- **重複防止**: 1回のみクリック可能

#### **ホーム画面サイドバー**
- **月間感謝ランキング**: トップ3-5名を表示
- **今週の専門家**: 既存機能を感謝ベースで更新

### ⚙️ **通知設定**
- **通知を受け取る**: ON/OFF（デフォルト：ON）
- **音で通知**: ON/OFF（デフォルト：OFF）

---

## 🔧 **技術的実装方針**

### 📊 **データ構造**

#### **新規追加テーブル**
```typescript
interface Gratitude {
  id: string;
  answerId: string;
  fromUserId: string;  // 感謝を贈った人
  toUserId: string;    // 感謝を受けた人
  createdAt: Date;
}

interface UserAchievement {
  id: string;
  userId: string;
  achievementType: 'badge' | 'shield' | 'crown';
  level: 'bronze' | 'silver' | 'gold' | 'platinum';
  title: string;
  gratitudeCount: number;
  achievedAt: Date;
}
```

#### **既存テーブル拡張**
```typescript
interface User {
  // 既存フィールド
  id: string;
  name: string;
  role: string;
  
  // 新規追加フィールド
  totalGratitude: number;
  currentTitle: string;
  notificationSettings: {
    receiveNotifications: boolean;
    soundNotifications: boolean;
  };
}
```

### 🗄️ **LocalStorage管理**
- `medconsult_gratitudes`: 感謝データ
- `medconsult_achievements`: 達成実績
- `medconsult_user_stats`: ユーザー統計情報

### 🔄 **既存システムとの統合**
- **いいねシステム**: 機能維持（独立した価値）
- **回答システム**: 感謝ボタンの追加
- **ユーザーシステム**: 統計情報の拡張

---

## 📝 **ガイドライン更新**

### 📖 **説明内容の追加**

#### **「評価システムについて」セクション**
```markdown
## 評価システムについて

### いいね 👍
- **目的**: 質問や回答の内容が参考になる、共感できる場合
- **タイミング**: 閲覧時にすぐ
- **意味**: 「良い質問だ」「参考になりそう」

### 感謝 🙏
- **目的**: アドバイスを実際に実践し、本当に役立った場合
- **タイミング**: 実践後
- **意味**: 「実際にやってみて改善できた」「助かった」
- **重要性**: いいねよりも重い、価値の高い評価

回答者への感謝は、実際にアドバイスを試した後にお願いします。
これにより、より信頼性の高いコミュニティを築くことができます。
```

---

## 📅 **実装フェーズ**

### **Phase 1-A: 基本機能** 
- [ ] 感謝ボタンとカウンター機能
- [ ] 基本的なマイルストーンシステム
- [ ] プロフィール表示の更新

### **Phase 1-B: UX改善**
- [ ] 通知システムの実装
- [ ] ガイドライン更新
- [ ] 月間ランキング表示

### **Phase 1-C: 機能拡張**
- [ ] 実績ギャラリー
- [ ] 進捗バー表示
- [ ] SNS連携準備

---

## ✅ **成功指標**

### 📊 **測定項目**
- **回答者の継続率**: 月次アクティブ回答者数
- **回答品質向上**: 感謝を受ける回答の割合
- **コミュニティ活性度**: 月間感謝総数
- **ユーザー満足度**: 回答者のプラットフォーム満足度

### 🎯 **目標値**
- 初月で10%の既存回答者が感謝を1つ以上獲得
- 3ヶ月後に月間感謝数100件突破
- 6ヶ月後に回答者継続率20%向上

---

**最終更新**: 2025年6月23日  
**ステータス**: 設計完了・実装待ち